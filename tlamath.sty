\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{tlamath}
\usepackage{amsmath}
\usepackage{mdframed}
% proof environment from `pf2.sty`
%
% DO NOT USE `hyperref`, because it causes problems with `tla2texplus-book`
% \usepackage[math]{fontspec}  % destroys both the math italics of `abbrev`, as well as indentation
% \usepackage{hypertlabook} % causes too many errors
\newenvironment{pf2proof}{
\providecommand{\proof}{}
\renewenvironment{proof}{
\begin{pfproof}
}{
\end{pfproof}
}
\begin{mdframed}
}{
\end{mdframed}
}
% operators
\def\al{\always}
\def\ev{\eventually}
\def\none{\mathrm{None}}
\newcommand{\tuple}[1]{\langle#1\rangle}
%
\makeatletter
\@ifpackageloaded{tla2texplus-book}{}{
\@ifpackageloaded{tla}{}{
	\newcommand{\CHOOSE}{\mbox{\sc choose }}
	\newcommand{\UNION}{\mbox{\sc union }}
	\newcommand{\EXCEPT}{\mbox{\sc except }}
	\newcommand{\TRUE}{\textsc{true}}
	\newcommand{\FALSE}{\textsc{false}}
	\newcommand{\DOMAIN}{\textsc{domain }}
	\newcommand{\IF}{\textsc{ if }}
	\newcommand{\THEN}{\textsc{ then }}
	\newcommand{\ELSE}{\textsc{ else }}
	\newcommand{\LET}{\textsc{ let }}
	\newcommand{\IN}{\textsc{ in }}
	\renewcommand{\always}{\LTLsquare}
	\renewcommand{\implies}{\Rightarrow}
	% quantifiers
	\DeclareMathOperator{\A}{\forall}
	\DeclareMathOperator{\E}{\exists}
	\renewcommand{\AA}{\makebox{$\raisebox{.05em}{\makebox[0pt][l]{%
	   $\forall\hspace{-.517em}\forall\hspace{-.517em}\forall$}}%
	   \forall\hspace{-.517em}\forall \hspace{-.517em}\forall\,$}}
	\newcommand{\EE}{\makebox{$\raisebox{.05em}{\makebox[0pt][l]{%
	   $\exists\hspace{-.517em}\exists\hspace{-.517em}\exists$}}%
	   \exists\hspace{-.517em}\exists\hspace{-.517em}\exists\,$}}
	\def\tla@while{-\hspace{-.18em}\triangleright}
	\def\tlawhilep{\stackrel{\mbox{\raisebox{-.3em}[0pt][0pt]{$\scriptscriptstyle+\;\,$}}}{\tla@while}}
	\def\strictarrow{\stackrel{\mbox{\raisebox{-.3em}[0pt][0pt]{$\scriptscriptstyle\mathrm{sr}\;\,$}}}{\tla@while}}
}}
\makeatother
% \def\tla{TLA}
\def\tlaplus{TLA\textsuperscript{+}}
\newcommand{\Cl}[2][]{\mathcal{C}_{#1}\big(#2\big)}

